[00.33.58] Starting compilation in watch mode...

[00.34.29] Found 0 errors. Watching for file changes.

[Nest] 8708  - 29/01/2026, 00.34.35     LOG [NestFactory] Starting Nest application...
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RedisService] ‚úÖ Redis (Upstash) connected
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] PrismaModule dependencies initialized +13ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] RedisModule dependencies initialized +0ms  
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] PassportModule dependencies initialized +0ms   
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ConfigHostModule dependencies initialized +13ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ThrottlerModule dependencies initialized +1ms  
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] HttpModule dependencies initialized +1ms       
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] JwtModule dependencies initialized +0ms        
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] JwtModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [GooglePingService] ‚úÖ Google Ping service ready (FREE & unlimited)
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [IndexNowService] ‚úÖ IndexNow service enabled
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [IndexNowService] üìä API Key: 6e93...
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ConfigModule dependencies initialized +1ms       
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ConfigModule dependencies initialized +1ms       
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] CategoriesModule dependencies initialized +2ms   
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [SeoService] üöÄ SEO Service initialized - All engines ready       
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] JwtModule dependencies initialized +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] SitemapModule dependencies initialized +3ms      
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ConversationsModule dependencies initialized +3ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ContactsModule dependencies initialized +1ms     
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] AppModule dependencies initialized +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] CustomersModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] StoreModule dependencies initialized +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] AutoReplyModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] MessagesModule dependencies initialized +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] OrdersModule dependencies initialized +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] WhatsAppModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] SeoModule dependencies initialized +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] TenantsModule dependencies initialized +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] ProductsModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [InstanceLoader] AuthModule dependencies initialized +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [WebSocketsController] WhatsAppGateway subscribed to the "join-room" message +35ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [WebSocketsController] MessagesGateway subscribed to the "join-conversation" message +3ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [WebSocketsController] MessagesGateway subscribed to the "leave-conversation" message +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [WebSocketsController] MessagesGateway subscribed to the "mark-as-read" message +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] AppController {/api}: +3ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api, GET} route +4ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/health, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] AuthController {/api/auth}: +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/register, POST} route +3ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/login, POST} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/logout, POST} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/me, GET} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/refresh, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/status, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auth/check-slug/:slug, GET} route +4ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] TenantsController {/api/tenants}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/by-slug/:slug, GET} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/by-slug/:slug/products, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/check-slug/:slug, GET} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/me, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/me, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/me/password, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/tenants/me/stats, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] SeoController {/api/seo}: +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/seo/status, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/seo/stats, GET} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/seo/reindex/:slug, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/seo/reindex/batch, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/seo/index-url, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] CategoriesController {/api/categories}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/categories, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/categories/stats, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/categories/search, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] ProductsController {/api/products}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/public/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/by-slug/:tenantSlug/:productSlug, GET} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/store/:slug, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/store/:slug/:productId, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products, POST} route +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/categories, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/low-stock, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/bulk, DELETE} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/:id, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/:id/stock, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/:id/toggle, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/products/:id, DELETE} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] CustomersController {/api/customers}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers/:id, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers/:id, DELETE} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/customers/:id/orders, GET} route +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] OrdersController {/api/orders}: +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id, PATCH} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id/status, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id/payment, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id/cancel, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/orders/:id, DELETE} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] SitemapController {/api/sitemap}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/sitemap/tenants/paginated, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/sitemap/products/paginated, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/sitemap/tenants, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/sitemap/products, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/sitemap/stats, GET} route +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] StoreController {/api/store}: +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/store/:slug/checkout, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/store/track/:orderId, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] WhatsAppController {/api/whatsapp}: +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/whatsapp/connect, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/whatsapp/disconnect, DELETE} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/whatsapp/status, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/whatsapp/send, POST} route +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] ConversationsController {/api/conversations}: +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/conversations, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/conversations/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/conversations/:id, PATCH} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/conversations/:id/mark-read, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] MessagesController {/api/messages}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/messages/send, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/messages, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] ContactsController {/api/contacts}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/contacts, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/contacts/:id, GET} route +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/contacts, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/contacts/:id, PUT} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/contacts/:id, DELETE} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RoutesResolver] AutoReplyController {/api/auto-reply}: +0ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules/:id, GET} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules, POST} route +1ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules/:id, PUT} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules/:id, DELETE} route +2ms
[Nest] 8708  - 29/01/2026, 00.34.35     LOG [RouterExplorer] Mapped {/api/auto-reply/rules/:id/toggle, PATCH} route +1ms
prisma:info Starting a postgresql pool with 9 connections in PgBouncer mode.
‚úÖ Database connected
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [KeyManagerService] ‚úÖ Key Manager initialized
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [KeyManagerService] üìä Total keys: 12
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [KeyManagerService] üìä Daily capacity: 2400 URLs
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [NestApplication] Nest application successfully started +5ms
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [Bootstrap] üöÄ Server running on http://localhost:8000
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [Bootstrap] üìö API endpoint: http://localhost:8000/api
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [Bootstrap] üåê CORS enabled for: http://localhost:3000
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [Bootstrap] üóúÔ∏è Compression: enabled
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [Bootstrap] üõ°Ô∏è XSS Protection: enabled
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [WhatsAppGateway] Client RwcIjSNm2H8e5D5IAAAB authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [WhatsAppGateway] Client _C9Fw84cU__NUg97AAAD authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [WhatsAppGateway] Client L90i3easWf36ESeRAAAH authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [WhatsAppGateway] Client rfFIHx6iCON0QVqxAAAJ authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [MessagesGateway] Messages client BBbsfTBBtgXwYp-5AAAK authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [WhatsAppGateway] Client 4ttcnj2ibaaQHukGAAAM authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [MessagesGateway] Messages client V0Q8npRYfTLK4_3QAAAN authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.36     LOG [MessagesGateway] Messages client hRFq0rP1xhhd3fOqAAAP authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.37     LOG [MessagesGateway] Messages client vB3dKy0C-1uRGBuzAAAR authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.38     LOG [WhatsAppGateway] Client vGr9CV_5T7ijtn5pAAAT authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.39     LOG [WhatsAppGateway] Client A0KUnB96B7Rf6nxhAAAV authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.41     LOG [WhatsAppGateway] Client oOaXa6G08F3LKsEHAAAX authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.41     LOG [MessagesGateway] Messages client ipddS1Psgpd180ytAAAY authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.34.48     LOG [MessagesGateway] Messages client QHf0pHEnqBJ8vQOMAAAa authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: QHf0pHEnqBJ8vQOMAAAa (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: A0KUnB96B7Rf6nxhAAAV (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: vB3dKy0C-1uRGBuzAAAR (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: oOaXa6G08F3LKsEHAAAX (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: ipddS1Psgpd180ytAAAY (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: vGr9CV_5T7ijtn5pAAAT (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: hRFq0rP1xhhd3fOqAAAP (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: 4ttcnj2ibaaQHukGAAAM (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: rfFIHx6iCON0QVqxAAAJ (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: L90i3easWf36ESeRAAAH (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: _C9Fw84cU__NUg97AAAD (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: BBbsfTBBtgXwYp-5AAAK (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: RwcIjSNm2H8e5D5IAAAB (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.16     LOG [MessagesGateway] Messages WebSocket client disconnected: V0Q8npRYfTLK4_3QAAAN (tenant: cmkxyii6u0000tzcoscrsnvdp)
prisma:query SELECT 1
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."email", "public"."Tenant"."category", "public"."Tenant"."description", "public"."Tenant"."whatsapp", "public"."Tenant"."phone", "public"."Tenant"."address", "public"."Tenant"."logo", "public"."Tenant"."theme", "public"."Tenant"."landingConfig", "public"."Tenant"."metaTitle", "public"."Tenant"."metaDescription", "public"."Tenant"."socialLinks", "public"."Tenant"."currency", "public"."Tenant"."taxRate", "public"."Tenant"."paymentMethods", "public"."Tenant"."freeShippingThreshold", "public"."Tenant"."defaultShippingCost", "public"."Tenant"."shippingMethods", "public"."Tenant"."heroTitle", "public"."Tenant"."heroSubtitle", "public"."Tenant"."heroCtaText", "public"."Tenant"."heroCtaLink", "public"."Tenant"."heroBackgroundImage", "public"."Tenant"."aboutTitle", "public"."Tenant"."aboutSubtitle", "public"."Tenant"."aboutContent", "public"."Tenant"."aboutImage", "public"."Tenant"."aboutFeatures", "public"."Tenant"."testimonialsTitle", "public"."Tenant"."testimonialsSubtitle", "public"."Tenant"."testimonials", "public"."Tenant"."contactTitle", "public"."Tenant"."contactSubtitle", "public"."Tenant"."contactMapUrl", "public"."Tenant"."contactShowMap", "public"."Tenant"."contactShowForm", "public"."Tenant"."ctaTitle", "public"."Tenant"."ctaSubtitle", "public"."Tenant"."ctaButtonText", "public"."Tenant"."ctaButtonLink", "public"."Tenant"."ctaButtonStyle", "public"."Tenant"."status"::text, "public"."Tenant"."createdAt", "public"."Tenant"."updatedAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.17     LOG [HTTP] GET /api/auth/status?_t=1769621716751 200 - 286ms - 127.0.0.1 - anonymous
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [WhatsAppGateway] Client efpvzGPpGkF0797pAAAc authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client NLi3rw8ITtahCNt6AAAd authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [WhatsAppGateway] Client x1b5Yleti_o9c2iBAAAf authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client 8EptW-k1JeELLp2IAAAh authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client ilddOUWSS3AChUsJAAAj authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [WhatsAppGateway] Client SMNYWmerldfRpYc0AAAl authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client YiffcfYkPZznpWWyAAAn authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [WhatsAppGateway] Client SzW2nX4N4jZM1wPzAAAp authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [WhatsAppGateway] Client cVOzkmMK83CUxTD0AAAr authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/products/categories?_t=1769621717772 200 - 34ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Product"."id" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client w42QgfOKO3HK1H0TAAAt authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query SELECT "public"."Product"."id", "public"."Product"."name", "public"."Product"."slug", "public"."Product"."description", "public"."Product"."category", "public"."Product"."sku", "public"."Product"."price", "public"."Product"."comparePrice", "public"."Product"."costPrice", "public"."Product"."stock", "public"."Product"."minStock", "public"."Product"."trackStock", "public"."Product"."unit", "public"."Product"."images", "public"."Product"."isActive", "public"."Product"."isFeatured", "public"."Product"."createdAt", "public"."Product"."updatedAt" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 ORDER BY "public"."Product"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Product"."id" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
prisma:query BEGIN
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769621717770 200 - 589ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Product"."id" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Product"."id", "public"."Product"."name", "public"."Product"."slug", "public"."Product"."description", "public"."Product"."category", "public"."Product"."sku", "public"."Product"."price", "public"."Product"."comparePrice", "public"."Product"."costPrice", "public"."Product"."stock", "public"."Product"."minStock", "public"."Product"."trackStock", "public"."Product"."unit", "public"."Product"."images", "public"."Product"."isActive", "public"."Product"."isFeatured", "public"."Product"."createdAt", "public"."Product"."updatedAt" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 ORDER BY "public"."Product"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Product"."id", "public"."Product"."name", "public"."Product"."slug", "public"."Product"."description", "public"."Product"."category", "public"."Product"."sku", "public"."Product"."price", "public"."Product"."comparePrice", "public"."Product"."costPrice", "public"."Product"."stock", "public"."Product"."minStock", "public"."Product"."trackStock", "public"."Product"."unit", "public"."Product"."images", "public"."Product"."isActive", "public"."Product"."isFeatured", "public"."Product"."createdAt", "public"."Product"."updatedAt" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 ORDER BY "public"."Product"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/whatsapp/status?_t=1769621717807 200 - 172ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769621717828 200 - 240ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client nAKHWeVaQZvdG4_xAAAv authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [MessagesGateway] Messages client hDERerG0P6NVJc9OAAAx authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769621717771 200 - 589ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/conversations?_t=1769621717778 200 - 338ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query COMMIT
prisma:query COMMIT
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.18     LOG [HTTP] GET /api/conversations?_t=1769621717808 200 - 325ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.19     LOG [HTTP] GET /api/whatsapp/status?_t=1769621717835 200 - 153ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.19     LOG [HTTP] GET /api/conversations?_t=1769621717829 200 - 310ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.19     LOG [HTTP] GET /api/conversations?_t=1769621717836 200 - 305ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: SzW2nX4N4jZM1wPzAAAp (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [MessagesGateway] Messages WebSocket client disconnected: nAKHWeVaQZvdG4_xAAAv (tenant: cmkxyii6u0000tzcoscrsnvdp)
prisma:query BEGIN
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [WhatsAppGateway] Client S8A7TIUJ09TdXZsBAAAz authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [WhatsAppGateway] Client 85VgoirmGJIIQaDaAAA1 authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [WhatsAppGateway] Client 23cZ4ikvN1TKa672AAA3 authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [WhatsAppGateway] Client hRcU055vSZaqE-DsAAA5 authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [HTTP] GET /api/whatsapp/status?_t=1769621724114 200 - 176ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [HTTP] GET /api/whatsapp/status?_t=1769621724109 200 - 183ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.24     LOG [HTTP] POST /api/whatsapp/connect 201 - 344ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.35.28     LOG [WhatsAppService] Connection closed for tenant: cmkxyii6u0000tzcoscrsnvdp, reconnecting: false
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query UPDATE "public"."WhatsAppSession" SET "status" = CAST($1::text AS "public"."WhatsAppSessionStatus"), "lastDisconnectedAt" = $2, "updatedAt" = $3 WHERE ("public"."WhatsAppSession"."tenantId" = $4 AND 1=1) RETURNING "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.35.28     LOG [WhatsAppGateway] Connection status emitted to tenant cmkxyii6u0000tzcoscrsnvdp: disconnected
prisma:query SELECT 1
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.13     LOG [HTTP] POST /api/whatsapp/connect 201 - 301ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.14     LOG [WhatsAppService] Closing existing socket for tenant: cmkxyii6u0000tzcoscrsnvdp before creating new one
[Nest] 8708  - 29/01/2026, 00.40.14     LOG [WhatsAppService] Connection closed for tenant: cmkxyii6u0000tzcoscrsnvdp, reconnecting: true      
prisma:query BEGIN
prisma:query SELECT 1
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query UPDATE "public"."WhatsAppSession" SET "status" = CAST($1::text AS "public"."WhatsAppSessionStatus"), "lastDisconnectedAt" = $2, "updatedAt" = $3 WHERE ("public"."WhatsAppSession"."tenantId" = $4 AND 1=1) RETURNING "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt"
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.15     LOG [WhatsAppGateway] Connection status emitted to tenant cmkxyii6u0000tzcoscrsnvdp: disconnected      
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.15     LOG [HTTP] POST /api/whatsapp/connect 201 - 325ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.17     LOG [WhatsAppService] Connection closed for tenant: cmkxyii6u0000tzcoscrsnvdp, reconnecting: false
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query UPDATE "public"."WhatsAppSession" SET "status" = CAST($1::text AS "public"."WhatsAppSessionStatus"), "lastDisconnectedAt" = $2, "updatedAt" = $3 WHERE ("public"."WhatsAppSession"."tenantId" = $4 AND 1=1) RETURNING "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.17     LOG [WhatsAppGateway] Connection status emitted to tenant cmkxyii6u0000tzcoscrsnvdp: disconnected      
[Nest] 8708  - 29/01/2026, 00.40.23     LOG [WhatsAppService] Connection closed for tenant: cmkxyii6u0000tzcoscrsnvdp, reconnecting: false
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query UPDATE "public"."WhatsAppSession" SET "status" = CAST($1::text AS "public"."WhatsAppSessionStatus"), "lastDisconnectedAt" = $2, "updatedAt" = $3 WHERE ("public"."WhatsAppSession"."tenantId" = $4 AND 1=1) RETURNING "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.24     LOG [WhatsAppGateway] Connection status emitted to tenant cmkxyii6u0000tzcoscrsnvdp: disconnected
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.36     LOG [HTTP] POST /api/whatsapp/connect 201 - 298ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: efpvzGPpGkF0797pAAAc (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: NLi3rw8ITtahCNt6AAAd (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: hRcU055vSZaqE-DsAAA5 (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: 23cZ4ikvN1TKa672AAA3 (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: 85VgoirmGJIIQaDaAAA1 (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: S8A7TIUJ09TdXZsBAAAz (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: hDERerG0P6NVJc9OAAAx (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: w42QgfOKO3HK1H0TAAAt (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: cVOzkmMK83CUxTD0AAAr (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: YiffcfYkPZznpWWyAAAn (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: SMNYWmerldfRpYc0AAAl (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: ilddOUWSS3AChUsJAAAj (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [MessagesGateway] Messages WebSocket client disconnected: 8EptW-k1JeELLp2IAAAh (tenant: cmkxyii6u0000tzcoscrsnvdp)
[Nest] 8708  - 29/01/2026, 00.40.39     LOG [WhatsAppGateway] WhatsApp WebSocket client disconnected: x1b5Yleti_o9c2iBAAAf (tenant: cmkxyii6u0000tzcoscrsnvdp)
prisma:query SELECT 1
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."email", "public"."Tenant"."category", "public"."Tenant"."description", "public"."Tenant"."whatsapp", "public"."Tenant"."phone", "public"."Tenant"."address", "public"."Tenant"."logo", "public"."Tenant"."theme", "public"."Tenant"."landingConfig", "public"."Tenant"."metaTitle", "public"."Tenant"."metaDescription", "public"."Tenant"."socialLinks", "public"."Tenant"."currency", "public"."Tenant"."taxRate", "public"."Tenant"."paymentMethods", "public"."Tenant"."freeShippingThreshold", "public"."Tenant"."defaultShippingCost", "public"."Tenant"."shippingMethods", "public"."Tenant"."heroTitle", "public"."Tenant"."heroSubtitle", "public"."Tenant"."heroCtaText", "public"."Tenant"."heroCtaLink", "public"."Tenant"."heroBackgroundImage", "public"."Tenant"."aboutTitle", "public"."Tenant"."aboutSubtitle", "public"."Tenant"."aboutContent", "public"."Tenant"."aboutImage", "public"."Tenant"."aboutFeatures", "public"."Tenant"."testimonialsTitle", "public"."Tenant"."testimonialsSubtitle", "public"."Tenant"."testimonials", "public"."Tenant"."contactTitle", "public"."Tenant"."contactSubtitle", "public"."Tenant"."contactMapUrl", "public"."Tenant"."contactShowMap", "public"."Tenant"."contactShowForm", "public"."Tenant"."ctaTitle", "public"."Tenant"."ctaSubtitle", "public"."Tenant"."ctaButtonText", "public"."Tenant"."ctaButtonLink", "public"."Tenant"."ctaButtonStyle", "public"."Tenant"."status"::text, "public"."Tenant"."createdAt", "public"."Tenant"."updatedAt" FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [HTTP] GET /api/auth/status?_t=1769622039851 200 - 230ms - 127.0.0.1 - anonymous
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query BEGIN
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [WhatsAppGateway] Client 5FVQc3yHIXrhg4qdAAA7 authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client M5CsBXk_sjXJoQ94AAA8 authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [WhatsAppGateway] Client 2E3RMwpsXyJ6IABhAAA- authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client aeZX9wx3CwAa3BTfAABA authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client KmPxN025vsFBwTQ2AABC authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client JdYwm3TO6f4lYvroAABE authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Product"."id" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 OFFSET $2) AS "sub"
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [WhatsAppGateway] Client wcu_SGkl_-DK2rphAABG authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [WhatsAppGateway] Client DadLe-P6Bezei1RjAABI authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [WhatsAppGateway] Client -UhD7_uSUBa82EOKAABK authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client 9fJ_cpMDUnj8mZkxAABM authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client tuU7SozyAuikaJLtAABO authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [MessagesGateway] Messages client 8Ic1v8fgzL34-RizAABQ authenticated and joined tenant room: cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Product"."id", "public"."Product"."name", "public"."Product"."slug", "public"."Product"."description", "public"."Product"."category", "public"."Product"."sku", "public"."Product"."price", "public"."Product"."comparePrice", "public"."Product"."costPrice", "public"."Product"."stock", "public"."Product"."minStock", "public"."Product"."trackStock", "public"."Product"."unit", "public"."Product"."images", "public"."Product"."isActive", "public"."Product"."isFeatured", "public"."Product"."createdAt", "public"."Product"."updatedAt" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 ORDER BY "public"."Product"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
prisma:query COMMIT
prisma:query BEGIN
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query BEGIN
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769622040173 200 - 623ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.40.40     LOG [HTTP] GET /api/products/categories?_t=1769622040175 200 - 90ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query BEGIN
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Product"."id" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."Product"."id", "public"."Product"."name", "public"."Product"."slug", "public"."Product"."description", "public"."Product"."category", "public"."Product"."sku", "public"."Product"."price", "public"."Product"."comparePrice", "public"."Product"."costPrice", "public"."Product"."stock", "public"."Product"."minStock", "public"."Product"."trackStock", "public"."Product"."unit", "public"."Product"."images", "public"."Product"."isActive", "public"."Product"."isFeatured", "public"."Product"."createdAt", "public"."Product"."updatedAt" FROM "public"."Product" WHERE "public"."Product"."tenantId" = $1 ORDER BY "public"."Product"."createdAt" DESC LIMIT $2 OFFSET $3
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query DEALLOCATE ALL
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/whatsapp/status?_t=1769622040186 200 - 165ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query COMMIT
prisma:query BEGIN
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769622040174 200 - 237ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query BEGIN
prisma:query BEGIN
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/products?sortBy=createdAt&sortOrder=desc&page=1&limit=20&_t=1769622040194 200 - 60ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query COMMIT
prisma:query COMMIT
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/conversations?_t=1769622040177 200 - 291ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query BEGIN
prisma:query BEGIN
prisma:query SELECT "public"."Tenant"."id", "public"."Tenant"."email", "public"."Tenant"."slug", "public"."Tenant"."name", "public"."Tenant"."status"::text FROM "public"."Tenant" WHERE ("public"."Tenant"."id" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/conversations?_t=1769622040187 200 - 335ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query DEALLOCATE ALL
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query BEGIN
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query SELECT "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt" FROM "public"."WhatsAppSession" WHERE ("public"."WhatsAppSession"."tenantId" = $1 AND 1=1) LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/whatsapp/status?_t=1769622040199 200 - 146ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
prisma:query BEGIN
prisma:query SELECT COUNT(*) FROM (SELECT "public"."Conversation"."id" FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = 
$1 OFFSET $2) AS "sub"
prisma:query DEALLOCATE ALL
prisma:query COMMIT
prisma:query BEGIN
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query DEALLOCATE ALL
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/conversations?_t=1769622040195 200 - 294ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp 
prisma:query SELECT "public"."Conversation"."id", "public"."Conversation"."tenantId", "public"."Conversation"."contactId", "public"."Conversation"."customerPhone", "public"."Conversation"."customerName", "public"."Conversation"."customerAvatarUrl", "public"."Conversation"."status"::text, "public"."Conversation"."unreadCount", "public"."Conversation"."totalMessages", "public"."Conversation"."lastMessageAt", "public"."Conversation"."lastMessageContent", "public"."Conversation"."lastMessageFrom", "public"."Conversation"."createdAt", "public"."Conversation"."updatedAt" 
FROM "public"."Conversation" WHERE "public"."Conversation"."tenantId" = $1 ORDER BY "public"."Conversation"."lastMessageAt" DESC LIMIT $2 OFFSET $3
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.41     LOG [HTTP] GET /api/conversations?_t=1769622040200 200 - 285ms - 127.0.0.1 - cmkxyii6u0000tzcoscrsnvdp
[Nest] 8708  - 29/01/2026, 00.40.42     LOG [WhatsAppService] Connection closed for tenant: cmkxyii6u0000tzcoscrsnvdp, reconnecting: false
prisma:query BEGIN
prisma:query DEALLOCATE ALL
prisma:query UPDATE "public"."WhatsAppSession" SET "status" = CAST($1::text AS "public"."WhatsAppSessionStatus"), "lastDisconnectedAt" = $2, "updatedAt" = $3 WHERE ("public"."WhatsAppSession"."tenantId" = $4 AND 1=1) RETURNING "public"."WhatsAppSession"."id", "public"."WhatsAppSession"."tenantId", "public"."WhatsAppSession"."phoneNumber", "public"."WhatsAppSession"."qrCode", "public"."WhatsAppSession"."status"::text, "public"."WhatsAppSession"."connectionState", "public"."WhatsAppSession"."authStatePath", "public"."WhatsAppSession"."lastConnectedAt", "public"."WhatsAppSession"."lastDisconnectedAt", "public"."WhatsAppSession"."createdAt", "public"."WhatsAppSession"."updatedAt"
prisma:query COMMIT
[Nest] 8708  - 29/01/2026, 00.40.42     LOG [WhatsAppGateway] Connection status emitted to tenant cmkxyii6u0000tzcoscrsnvdp: disconnected      
Fibidy@DESKTOP-44A8LMC MINGW64 /d/PRODUK-LPPM-FINAL/UMKM-MULTI-TENANT/app (main)
$ cd server

Fibidy@DESKTOP-44A8LMC MINGW64 /d/PRODUK-LPPM-FINAL/UMKM-MULTI-TENANT/app/server (main)
$ cd whatsapp-sessions

Fibidy@DESKTOP-44A8LMC MINGW64 /d/PRODUK-LPPM-FINAL/UMKM-MULTI-TENANT/app/server/whatsapp-sessions (main)
$ cd cmkxyii6u0000tzcoscrsnvdp

Fibidy@DESKTOP-44A8LMC MINGW64 /d/PRODUK-LPPM-FINAL/UMKM-MULTI-TENANT/app/server/whatsapp-sessions/cmkxyii6u0000tzcoscrsnvdp (main)
$ dir
app-state-sync-key-AAAAALHa.json                  pre-key-233.json  pre-key-383.json  pre-key-532.json  pre-key-682.json
app-state-sync-key-AAAAALHb.json                  pre-key-234.json  pre-key-384.json  pre-key-533.json  pre-key-683.json
app-state-sync-key-AAAAALHT.json                  pre-key-235.json  pre-key-385.json  pre-key-534.json  pre-key-684.json
app-state-sync-key-AAAAALHU.json                  pre-key-236.json  pre-key-386.json  pre-key-535.json  pre-key-685.json
app-state-sync-key-AAAAALHV.json                  pre-key-237.json  pre-key-387.json  pre-key-536.json  pre-key-686.json
app-state-sync-key-AAAAALHX.json                  pre-key-238.json  pre-key-388.json  pre-key-537.json  pre-key-687.json
app-state-sync-key-AAAAALHY.json                  pre-key-239.json  pre-key-389.json  pre-key-538.json  pre-key-688.json
app-state-sync-key-AAAAALHZ.json                  pre-key-24.json   pre-key-39.json   pre-key-539.json  pre-key-689.json
app-state-sync-key-AE8AALHW.json                  pre-key-240.json  pre-key-390.json  pre-key-54.json   pre-key-69.json
app-state-sync-version-critical_block.json        pre-key-241.json  pre-key-391.json  pre-key-540.json  pre-key-690.json
app-state-sync-version-critical_unblock_low.json  pre-key-242.json  pre-key-392.json  pre-key-541.json  pre-key-691.json
app-state-sync-version-regular.json               pre-key-243.json  pre-key-393.json  pre-key-542.json  pre-key-692.json
app-state-sync-version-regular_high.json          pre-key-244.json  pre-key-394.json  pre-key-543.json  pre-key-693.json
creds.json                                        pre-key-245.json  pre-key-395.json  pre-key-544.json  pre-key-694.json
device-list-6289524155482.json                    pre-key-246.json  pre-key-396.json  pre-key-545.json  pre-key-695.json
lid-mapping-274216616251416_reverse.json          pre-key-247.json  pre-key-397.json  pre-key-546.json  pre-key-696.json
lid-mapping-6289524155482.json                    pre-key-248.json  pre-key-398.json  pre-key-547.json  pre-key-697.json
pre-key-1.json                                    pre-key-249.json  pre-key-399.json  pre-key-548.json  pre-key-698.json
pre-key-10.json                                   pre-key-25.json   pre-key-4.json    pre-key-549.json  pre-key-699.json
pre-key-100.json                                  pre-key-250.json  pre-key-40.json   pre-key-55.json   pre-key-7.json
pre-key-101.json                                  pre-key-251.json  pre-key-400.json  pre-key-550.json  pre-key-70.json
pre-key-102.json                                  pre-key-252.json  pre-key-401.json  pre-key-551.json  pre-key-700.json
pre-key-103.json                                  pre-key-253.json  pre-key-402.json  pre-key-552.json  pre-key-701.json
pre-key-104.json                                  pre-key-254.json  pre-key-403.json  pre-key-553.json  pre-key-702.json
pre-key-105.json                                  pre-key-255.json  pre-key-404.json  pre-key-554.json  pre-key-703.json
pre-key-106.json                                  pre-key-256.json  pre-key-405.json  pre-key-555.json  pre-key-704.json
pre-key-107.json                                  pre-key-257.json  pre-key-406.json  pre-key-556.json  pre-key-705.json
pre-key-108.json                                  pre-key-258.json  pre-key-407.json  pre-key-557.json  pre-key-706.json
pre-key-109.json                                  pre-key-259.json  pre-key-408.json  pre-key-558.json  pre-key-707.json
pre-key-11.json                                   pre-key-26.json   pre-key-409.json  pre-key-559.json  pre-key-708.json
pre-key-110.json                                  pre-key-260.json  pre-key-41.json   pre-key-56.json   pre-key-709.json
pre-key-111.json                                  pre-key-261.json  pre-key-410.json  pre-key-560.json  pre-key-71.json
pre-key-112.json                                  pre-key-262.json  pre-key-411.json  pre-key-561.json  pre-key-710.json
pre-key-113.json                                  pre-key-263.json  pre-key-412.json  pre-key-562.json  pre-key-711.json
pre-key-114.json                                  pre-key-264.json  pre-key-413.json  pre-key-563.json  pre-key-712.json
pre-key-115.json                                  pre-key-265.json  pre-key-414.json  pre-key-564.json  pre-key-713.json
pre-key-116.json                                  pre-key-266.json  pre-key-415.json  pre-key-565.json  pre-key-714.json
pre-key-117.json                                  pre-key-267.json  pre-key-416.json  pre-key-566.json  pre-key-715.json
pre-key-118.json                                  pre-key-268.json  pre-key-417.json  pre-key-567.json  pre-key-716.json
pre-key-119.json                                  pre-key-269.json  pre-key-418.json  pre-key-568.json  pre-key-717.json
pre-key-12.json                                   pre-key-27.json   pre-key-419.json  pre-key-569.json  pre-key-718.json
pre-key-120.json                                  pre-key-270.json  pre-key-42.json   pre-key-57.json   pre-key-719.json
pre-key-121.json                                  pre-key-271.json  pre-key-420.json  pre-key-570.json  pre-key-72.json
pre-key-122.json                                  pre-key-272.json  pre-key-421.json  pre-key-571.json  pre-key-720.json
pre-key-123.json                                  pre-key-273.json  pre-key-422.json  pre-key-572.json  pre-key-721.json
pre-key-124.json                                  pre-key-274.json  pre-key-423.json  pre-key-573.json  pre-key-722.json
pre-key-125.json                                  pre-key-275.json  pre-key-424.json  pre-key-574.json  pre-key-723.json
pre-key-126.json                                  pre-key-276.json  pre-key-425.json  pre-key-575.json  pre-key-724.json
pre-key-127.json                                  pre-key-277.json  pre-key-426.json  pre-key-576.json  pre-key-725.json
pre-key-128.json                                  pre-key-278.json  pre-key-427.json  pre-key-577.json  pre-key-726.json
pre-key-129.json                                  pre-key-279.json  pre-key-428.json  pre-key-578.json  pre-key-727.json
pre-key-13.json                                   pre-key-28.json   pre-key-429.json  pre-key-579.json  pre-key-728.json
pre-key-130.json                                  pre-key-280.json  pre-key-43.json   pre-key-58.json   pre-key-729.json
pre-key-131.json                                  pre-key-281.json  pre-key-430.json  pre-key-580.json  pre-key-73.json
pre-key-132.json                                  pre-key-282.json  pre-key-431.json  pre-key-581.json  pre-key-730.json
pre-key-133.json                                  pre-key-283.json  pre-key-432.json  pre-key-582.json  pre-key-731.json
pre-key-134.json                                  pre-key-284.json  pre-key-433.json  pre-key-583.json  pre-key-732.json
pre-key-135.json                                  pre-key-285.json  pre-key-434.json  pre-key-584.json  pre-key-733.json
pre-key-136.json                                  pre-key-286.json  pre-key-435.json  pre-key-585.json  pre-key-734.json
pre-key-137.json                                  pre-key-287.json  pre-key-436.json  pre-key-586.json  pre-key-735.json
pre-key-138.json                                  pre-key-288.json  pre-key-437.json  pre-key-587.json  pre-key-736.json
pre-key-139.json                                  pre-key-289.json  pre-key-438.json  pre-key-588.json  pre-key-737.json
pre-key-14.json                                   pre-key-29.json   pre-key-439.json  pre-key-589.json  pre-key-738.json
pre-key-140.json                                  pre-key-290.json  pre-key-44.json   pre-key-59.json   pre-key-739.json
pre-key-141.json                                  pre-key-291.json  pre-key-440.json  pre-key-590.json  pre-key-74.json
pre-key-142.json                                  pre-key-292.json  pre-key-441.json  pre-key-591.json  pre-key-740.json
pre-key-143.json                                  pre-key-293.json  pre-key-442.json  pre-key-592.json  pre-key-741.json
pre-key-144.json                                  pre-key-294.json  pre-key-443.json  pre-key-593.json  pre-key-742.json
pre-key-145.json                                  pre-key-295.json  pre-key-444.json  pre-key-594.json  pre-key-743.json
pre-key-146.json                                  pre-key-296.json  pre-key-445.json  pre-key-595.json  pre-key-744.json
pre-key-147.json                                  pre-key-297.json  pre-key-446.json  pre-key-596.json  pre-key-745.json
pre-key-148.json                                  pre-key-298.json  pre-key-447.json  pre-key-597.json  pre-key-746.json
pre-key-149.json                                  pre-key-299.json  pre-key-448.json  pre-key-598.json  pre-key-747.json
pre-key-15.json                                   pre-key-3.json    pre-key-449.json  pre-key-599.json  pre-key-748.json
pre-key-150.json                                  pre-key-30.json   pre-key-45.json   pre-key-6.json    pre-key-749.json
pre-key-151.json                                  pre-key-300.json  pre-key-450.json  pre-key-60.json   pre-key-75.json
pre-key-152.json                                  pre-key-301.json  pre-key-451.json  pre-key-600.json  pre-key-750.json
pre-key-153.json                                  pre-key-302.json  pre-key-452.json  pre-key-601.json  pre-key-751.json
pre-key-154.json                                  pre-key-303.json  pre-key-453.json  pre-key-602.json  pre-key-752.json
pre-key-155.json                                  pre-key-304.json  pre-key-454.json  pre-key-603.json  pre-key-753.json
pre-key-156.json                                  pre-key-305.json  pre-key-455.json  pre-key-604.json  pre-key-754.json
pre-key-157.json                                  pre-key-306.json  pre-key-456.json  pre-key-605.json  pre-key-755.json
pre-key-158.json                                  pre-key-307.json  pre-key-457.json  pre-key-606.json  pre-key-756.json
pre-key-159.json                                  pre-key-308.json  pre-key-458.json  pre-key-607.json  pre-key-757.json
pre-key-16.json                                   pre-key-309.json  pre-key-459.json  pre-key-608.json  pre-key-758.json
pre-key-160.json                                  pre-key-31.json   pre-key-46.json   pre-key-609.json  pre-key-759.json
pre-key-161.json                                  pre-key-310.json  pre-key-460.json  pre-key-61.json   pre-key-76.json
pre-key-162.json                                  pre-key-311.json  pre-key-461.json  pre-key-610.json  pre-key-760.json
pre-key-163.json                                  pre-key-312.json  pre-key-462.json  pre-key-611.json  pre-key-761.json
pre-key-164.json                                  pre-key-313.json  pre-key-463.json  pre-key-612.json  pre-key-762.json
pre-key-165.json                                  pre-key-314.json  pre-key-464.json  pre-key-613.json  pre-key-763.json
pre-key-166.json                                  pre-key-315.json  pre-key-465.json  pre-key-614.json  pre-key-764.json
pre-key-167.json                                  pre-key-316.json  pre-key-466.json  pre-key-615.json  pre-key-765.json
pre-key-168.json                                  pre-key-317.json  pre-key-467.json  pre-key-616.json  pre-key-766.json
pre-key-169.json                                  pre-key-318.json  pre-key-468.json  pre-key-617.json  pre-key-767.json
pre-key-17.json                                   pre-key-319.json  pre-key-469.json  pre-key-618.json  pre-key-768.json
pre-key-170.json                                  pre-key-32.json   pre-key-47.json   pre-key-619.json  pre-key-769.json
pre-key-171.json                                  pre-key-320.json  pre-key-470.json  pre-key-62.json   pre-key-77.json
pre-key-172.json                                  pre-key-321.json  pre-key-471.json  pre-key-620.json  pre-key-770.json
pre-key-173.json                                  pre-key-322.json  pre-key-472.json  pre-key-621.json  pre-key-771.json
pre-key-174.json                                  pre-key-323.json  pre-key-473.json  pre-key-622.json  pre-key-772.json
pre-key-175.json                                  pre-key-324.json  pre-key-474.json  pre-key-623.json  pre-key-773.json
pre-key-176.json                                  pre-key-325.json  pre-key-475.json  pre-key-624.json  pre-key-774.json
pre-key-177.json                                  pre-key-326.json  pre-key-476.json  pre-key-625.json  pre-key-775.json
pre-key-178.json                                  pre-key-327.json  pre-key-477.json  pre-key-626.json  pre-key-776.json
pre-key-179.json                                  pre-key-328.json  pre-key-478.json  pre-key-627.json  pre-key-777.json
pre-key-18.json                                   pre-key-329.json  pre-key-479.json  pre-key-628.json  pre-key-778.json
pre-key-180.json                                  pre-key-33.json   pre-key-48.json   pre-key-629.json  pre-key-779.json
pre-key-181.json                                  pre-key-330.json  pre-key-480.json  pre-key-63.json   pre-key-78.json
pre-key-182.json                                  pre-key-331.json  pre-key-481.json  pre-key-630.json  pre-key-780.json
pre-key-183.json                                  pre-key-332.json  pre-key-482.json  pre-key-631.json  pre-key-781.json
pre-key-184.json                                  pre-key-333.json  pre-key-483.json  pre-key-632.json  pre-key-782.json
pre-key-185.json                                  pre-key-334.json  pre-key-484.json  pre-key-633.json  pre-key-783.json
pre-key-186.json                                  pre-key-335.json  pre-key-485.json  pre-key-634.json  pre-key-784.json
pre-key-187.json                                  pre-key-336.json  pre-key-486.json  pre-key-635.json  pre-key-785.json
pre-key-188.json                                  pre-key-337.json  pre-key-487.json  pre-key-636.json  pre-key-786.json
pre-key-189.json                                  pre-key-338.json  pre-key-488.json  pre-key-637.json  pre-key-787.json
pre-key-19.json                                   pre-key-339.json  pre-key-489.json  pre-key-638.json  pre-key-788.json
pre-key-190.json                                  pre-key-34.json   pre-key-49.json   pre-key-639.json  pre-key-789.json
pre-key-191.json                                  pre-key-340.json  pre-key-490.json  pre-key-64.json   pre-key-79.json
pre-key-192.json                                  pre-key-341.json  pre-key-491.json  pre-key-640.json  pre-key-790.json
pre-key-193.json                                  pre-key-342.json  pre-key-492.json  pre-key-641.json  pre-key-791.json
pre-key-194.json                                  pre-key-343.json  pre-key-493.json  pre-key-642.json  pre-key-792.json
pre-key-195.json                                  pre-key-344.json  pre-key-494.json  pre-key-643.json  pre-key-793.json
pre-key-196.json                                  pre-key-345.json  pre-key-495.json  pre-key-644.json  pre-key-794.json
pre-key-197.json                                  pre-key-346.json  pre-key-496.json  pre-key-645.json  pre-key-795.json
pre-key-198.json                                  pre-key-347.json  pre-key-497.json  pre-key-646.json  pre-key-796.json
pre-key-199.json                                  pre-key-348.json  pre-key-498.json  pre-key-647.json  pre-key-797.json
pre-key-2.json                                    pre-key-349.json  pre-key-499.json  pre-key-648.json  pre-key-798.json
pre-key-20.json                                   pre-key-35.json   pre-key-5.json    pre-key-649.json  pre-key-799.json
pre-key-200.json                                  pre-key-350.json  pre-key-50.json   pre-key-65.json   pre-key-8.json
pre-key-201.json                                  pre-key-351.json  pre-key-500.json  pre-key-650.json  pre-key-80.json
pre-key-202.json                                  pre-key-352.json  pre-key-501.json  pre-key-651.json  pre-key-800.json
pre-key-203.json                                  pre-key-353.json  pre-key-502.json  pre-key-652.json  pre-key-801.json
pre-key-204.json                                  pre-key-354.json  pre-key-503.json  pre-key-653.json  pre-key-802.json
pre-key-205.json                                  pre-key-355.json  pre-key-504.json  pre-key-654.json  pre-key-803.json
pre-key-206.json                                  pre-key-356.json  pre-key-505.json  pre-key-655.json  pre-key-804.json
pre-key-207.json                                  pre-key-357.json  pre-key-506.json  pre-key-656.json  pre-key-805.json
pre-key-208.json                                  pre-key-358.json  pre-key-507.json  pre-key-657.json  pre-key-806.json
pre-key-209.json                                  pre-key-359.json  pre-key-508.json  pre-key-658.json  pre-key-807.json
pre-key-21.json                                   pre-key-36.json   pre-key-509.json  pre-key-659.json  pre-key-808.json
pre-key-210.json                                  pre-key-360.json  pre-key-51.json   pre-key-66.json   pre-key-809.json
pre-key-211.json                                  pre-key-361.json  pre-key-510.json  pre-key-660.json  pre-key-81.json
pre-key-212.json                                  pre-key-362.json  pre-key-511.json  pre-key-661.json  pre-key-810.json
pre-key-213.json                                  pre-key-363.json  pre-key-512.json  pre-key-662.json  pre-key-811.json
pre-key-214.json                                  pre-key-364.json  pre-key-513.json  pre-key-663.json  pre-key-812.json
pre-key-215.json                                  pre-key-365.json  pre-key-514.json  pre-key-664.json  pre-key-82.json
pre-key-216.json                                  pre-key-366.json  pre-key-515.json  pre-key-665.json  pre-key-83.json
pre-key-217.json                                  pre-key-367.json  pre-key-516.json  pre-key-666.json  pre-key-84.json
pre-key-218.json                                  pre-key-368.json  pre-key-517.json  pre-key-667.json  pre-key-85.json
pre-key-219.json                                  pre-key-369.json  pre-key-518.json  pre-key-668.json  pre-key-86.json
pre-key-22.json                                   pre-key-37.json   pre-key-519.json  pre-key-669.json  pre-key-87.json
pre-key-220.json                                  pre-key-370.json  pre-key-52.json   pre-key-67.json   pre-key-88.json
pre-key-221.json                                  pre-key-371.json  pre-key-520.json  pre-key-670.json  pre-key-89.json
pre-key-222.json                                  pre-key-372.json  pre-key-521.json  pre-key-671.json  pre-key-9.json
pre-key-223.json                                  pre-key-373.json  pre-key-522.json  pre-key-672.json  pre-key-90.json
pre-key-224.json                                  pre-key-374.json  pre-key-523.json  pre-key-673.json  pre-key-91.json
pre-key-225.json                                  pre-key-375.json  pre-key-524.json  pre-key-674.json  pre-key-92.json
pre-key-226.json                                  pre-key-376.json  pre-key-525.json  pre-key-675.json  pre-key-93.json
pre-key-227.json                                  pre-key-377.json  pre-key-526.json  pre-key-676.json  pre-key-94.json
pre-key-228.json                                  pre-key-378.json  pre-key-527.json  pre-key-677.json  pre-key-95.json
pre-key-229.json                                  pre-key-379.json  pre-key-528.json  pre-key-678.json  pre-key-96.json
pre-key-23.json                                   pre-key-38.json   pre-key-529.json  pre-key-679.json  pre-key-97.json
pre-key-230.json                                  pre-key-380.json  pre-key-53.json   pre-key-68.json   pre-key-98.json
pre-key-231.json                                  pre-key-381.json  pre-key-530.json  pre-key-680.json  pre-key-99.json
pre-key-232.json                                  pre-key-382.json  pre-key-531.json  pre-key-681.json  session-274216616251416_1.0.json       

Fibidy@DESKTOP-44A8LMC MINGW64 /d/PRODUK-LPPM-FINAL/UMKM-MULTI-TENANT/app/server/whatsapp-sessions/cmkxyii6u0000tzcoscrsnvdp (main)
$

Saya melihat beberapa masalah dari log ini. Mari saya analisis dan periksa kode yang relevan.

Update Todos
 Analyzing WhatsApp connection immediately disconnecting
 Investigate multiple duplicate WebSocket connections
 Check duplicate API calls from frontend
Read
/home/user/APP-UMKM/server/src/whatsapp/whatsapp.service.ts
Read 421 lines
Read
/home/user/APP-UMKM/server/src/messages/messages.gateway.ts
Read 172 lines
Read
/home/user/APP-UMKM/server/src/common/pipes/sanitize.pipe.ts
Read 74 lines
Update Todos
 Analyze WhatsApp connection immediately disconnecting
 Investigate multiple duplicate WebSocket connections
 Check duplicate API calls from frontend
Analisis Log & Verifikasi Akhir
Dari log dan kode yang saya baca, berikut adalah KONFIRMASI FINAL:

MASALAH TERLIHAT DARI LOG:
1. WhatsApp Connection Langsung Disconnect (4 detik)
00.35.24 - POST /api/whatsapp/connect 201
00.35.28 - Connection closed for tenant, reconnecting: false

Penyebab:

reconnecting: false berarti DisconnectReason adalah loggedOut (line 170-172 di whatsapp.service.ts)
Ini terjadi karena tidak ada valid session di folder ./whatsapp-sessions/{tenantId}
Baileys mencoba connect ‚Üí tidak ada credentials ‚Üí disconnect dengan status logged out
Ini bukan bug, tapi expected behavior untuk fresh connection. Seharusnya QR code muncul terlebih dahulu.

2. Banyak WebSocket Connections dari 1 Tenant
Client RwcIjSNm2H8e5D5IAAAB authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
Client _C9Fw84cU__NUg97AAAD authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
Client L90i3easWf36ESeRAAAH authenticated and joined room: cmkxyii6u0000tzcoscrsnvdp
... (10+ clients)

Penyebab:

Frontend membuat multiple WebSocket connections dari satu user
Kemungkinan: React StrictMode, multiple useEffect, atau multiple tabs
Bukan security issue, tapi performance issue di frontend.

KONFIRMASI ISSUES DARI AUDIT:
Issue	Status	Bukti
#2 Room Authorization	‚úÖ VALID	messages.gateway.ts:98-107 - Tidak ada validasi tenant ownership
#3 XSS Incomplete	‚úÖ VALID	sanitize.pipe.ts:13-15 - metadata.type !== 'body' return early
#4 Memory Leak	‚úÖ VALID	whatsapp.service.ts:132-236 - Event listeners tidak di-remove
#5 No WS Rate Limit	‚úÖ VALID	Tidak ada throttling di gateway
#6 JWT Direct Access	‚úÖ VALID	process.env.JWT_SECRET tanpa validation
#7 Cross-tenant Broadcast	‚úÖ VALID	messages.gateway.ts:152-158 - this.server.emit() ke semua
KODE YANG BERMASALAH (CONFIRMED):
1. messages.gateway.ts:98-107 - Missing Authorization

@SubscribeMessage('join-conversation')
handleJoinConversation(
  @ConnectedSocket() client: Socket,
  @MessageBody() data: { conversationId: string },
) {
  client.join(data.conversationId);  // ‚ùå NO TENANT CHECK!
}

2. messages.gateway.ts:152-158 - Broadcast Leak

emitMessageStatusUpdated(messageId: string, status: string) {
  this.server.emit('message-status-updated', { ... });  // ‚ùå TO ALL CLIENTS!
}

3. sanitize.pipe.ts:13-15 - XSS Bypass

if (metadata.type !== 'body') {
  return value;  // ‚ùå Query/params not sanitized!
}

4. Both gateways - JWT without ConfigService

const payload = await this.jwtService.verifyAsync(token, {
  secret: process.env.JWT_SECRET,  // ‚ùå Should use ConfigService
});

SUMMARY - Audit Report Accuracy:
Category	Claimed	Actual
CRITICAL Issues	4	2 (Room Auth + Broadcast Leak)
HIGH Issues	4	4 (Memory Leak, No Rate Limit, + 2 above)
MEDIUM Issues	4	3 (XSS, JWT Access, Race Condition)
NOT VALID	0	2 (SQL Injection, Path Injection)
Kesimpulan: Audit report SEBAGIAN BESAR AKURAT dengan beberapa over-claim pada severity.

Apakah Anda ingin saya:

Memperbaiki semua issues yang terverifikasi?
Hanya memperbaiki CRITICAL/HIGH issues?
Membuat detailed fix plan terlebih dahulu?
gini broo DETAIL FIX PLAN DULU BERTAHAP YA!! BIAR AKURAT DAN HATI HATI

[Request interrupted by user]

gini broo DETAIL FIX PLAN DULU BERTAHAP YA!! BIAR AKURAT DAN HATI HATI

Baik bro! Saya akan buat DETAILED FIX PLAN yang bertahap dan hati-hati. Mari kita susun dengan prioritas.

Update Todos
 Creating detailed fix plan for all verified issues
üìã DETAILED FIX PLAN - Bertahap & Hati-hati
PHASE 1: CRITICAL SECURITY FIXES (Harus diperbaiki segera)
FIX 1.1: Room Authorization di Messages Gateway
File: server/src/messages/messages.gateway.ts
Line: 98-107

Masalah:

@SubscribeMessage('join-conversation')
handleJoinConversation(...) {
  client.join(data.conversationId);  // ‚ùå Siapa saja bisa join!
}

Solusi:

Tambah validasi bahwa conversationId milik tenant yang authenticated
Query database untuk cek ownership sebelum join
Perubahan yang akan dilakukan:

@SubscribeMessage('join-conversation')
async handleJoinConversation(
  @ConnectedSocket() client: Socket,
  @MessageBody() data: { conversationId: string },
) {
  const tenantId = client.data.user?.sub;
  
  // Validasi conversation milik tenant ini
  const conversation = await this.conversationsService.findOne(
    data.conversationId, 
    tenantId
  );
  
  if (!conversation) {
    this.logger.warn(`Unauthorized join attempt: ${client.id} -> ${data.conversationId}`);
    return { error: 'Unauthorized' };
  }
  
  client.join(data.conversationId);
}

Dependencies: Perlu inject ConversationsService ke gateway

FIX 1.2: Cross-tenant Broadcast Leak
File: server/src/messages/messages.gateway.ts
Line: 152-158

Masalah:

emitMessageStatusUpdated(messageId: string, status: string) {
  this.server.emit(...);  // ‚ùå Broadcast ke SEMUA clients!
}

Solusi:
Ubah dari broadcast ke targeted emit berdasarkan conversationId atau tenantId

Perubahan yang akan dilakukan:

emitMessageStatusUpdated(
  conversationId: string,  // Tambah parameter
  messageId: string, 
  status: string
) {
  this.server.to(conversationId).emit('message-status-updated', {
    messageId,
    status,
  });
}

Dependencies: Semua caller method ini harus diupdate untuk pass conversationId

PHASE 2: HIGH SEVERITY FIXES
FIX 2.1: Memory Leak - Event Listeners Cleanup
File: server/src/whatsapp/whatsapp.service.ts
Line: 110-236

Masalah:
Event listeners tidak di-remove saat reconnect/disconnect

Solusi:

Simpan reference ke event handlers
Remove listeners sebelum socket di-delete
Perubahan yang akan dilakukan:

private async initializeConnection(tenantId: string): Promise<void> {
  // ... existing code ...
  
  // Cleanup existing socket jika ada
  const existingSocket = this.sockets.get(tenantId);
  if (existingSocket) {
    existingSocket.ev.removeAllListeners();  // ‚úÖ Cleanup
    existingSocket.end(undefined);
  }
  
  // Create new socket
  const socket = makeWASocket({...});
  
  // ... rest of code ...
}

Tambahan di disconnect handler:

if (connection === 'close') {
  // Remove all listeners before deleting
  socket.ev.removeAllListeners();  // ‚úÖ Add this
  this.sockets.delete(tenantId);
  // ... rest of code ...
}

FIX 2.2: WebSocket Rate Limiting
File: server/src/messages/messages.gateway.ts & server/src/whatsapp/whatsapp.gateway.ts

Masalah:
Tidak ada rate limiting untuk WebSocket events

Solusi:
Implementasi custom rate limiter untuk WebSocket

Perubahan yang akan dilakukan:

Buat utility class: server/src/common/utils/ws-rate-limiter.ts
export class WsRateLimiter {
  private requests: Map<string, number[]> = new Map();
  
  isRateLimited(clientId: string, limit: number = 10, windowMs: number = 1000): boolean {
    const now = Date.now();
    const timestamps = this.requests.get(clientId) || [];
    const recent = timestamps.filter(t => now - t < windowMs);
    
    if (recent.length >= limit) {
      return true;
    }
    
    recent.push(now);
    this.requests.set(clientId, recent);
    return false;
  }
}

Gunakan di gateway:
@SubscribeMessage('join-conversation')
handleJoinConversation(...) {
  if (this.rateLimiter.isRateLimited(client.id)) {
    return { error: 'Rate limited' };
  }
  // ... rest of code
}

PHASE 3: MEDIUM SEVERITY FIXES
FIX 3.1: XSS Sanitization untuk Query/Params
File: server/src/common/pipes/sanitize.pipe.ts
Line: 11-15

Masalah:

if (metadata.type !== 'body') {
  return value;  // ‚ùå Bypass untuk query dan params
}

Solusi:
Sanitize semua input types, tapi dengan level berbeda

Perubahan yang akan dilakukan:

transform(value: unknown, metadata: ArgumentMetadata): unknown {
  // Sanitize all input types
  if (metadata.type === 'body') {
    return this.sanitizeValue(value, 'full');
  }
  
  // Lighter sanitization for query/params (just escape HTML)
  if (metadata.type === 'query' || metadata.type === 'param') {
    return this.sanitizeValue(value, 'light');
  }
  
  return value;
}

private sanitizeValue(value: unknown, level: 'full' | 'light'): unknown {
  // ... implementation
}

FIX 3.2: JWT Secret via ConfigService
Files:

server/src/messages/messages.gateway.ts:43-45
server/src/whatsapp/whatsapp.gateway.ts:41-43
Masalah:

secret: process.env.JWT_SECRET  // ‚ùå Direct env access

Solusi:
Gunakan ConfigService dengan proper validation

Perubahan yang akan dilakukan:

// Di constructor
constructor(
  private readonly jwtService: JwtService,
  private readonly configService: ConfigService,  // ‚úÖ Add this
) {}

// Di handleConnection
const secret = this.configService.get<string>('JWT_SECRET');
if (!secret) {
  this.logger.error('JWT_SECRET is not configured');
  client.disconnect();
  return;
}

const payload = await this.jwtService.verifyAsync(token, { secret });

FIX 3.3: Race Condition - Add Connection Lock
File: server/src/whatsapp/whatsapp.service.ts

Masalah:
User bisa spam tombol Connect sebelum status berubah

Solusi:
Tambah lock mechanism dengan Set

Perubahan yang akan dilakukan:

private connectingTenants: Set<string> = new Set();  // ‚úÖ Add this

async connectWhatsApp(tenantId: string, ...): Promise<...> {
  // Check if already connecting
  if (this.connectingTenants.has(tenantId)) {
    throw new Error('Connection already in progress');
  }
  
  try {
    this.connectingTenants.add(tenantId);
    // ... existing connection logic ...
  } finally {
    this.connectingTenants.delete(tenantId);
  }
}

PHASE 4: CODE QUALITY FIXES (Optional tapi recommended)
FIX 4.1: Extract Token Logic ke Shared Service
Masalah: Duplicate code di 2 gateway files

Solusi: Buat WsAuthService

FIX 4.2: Centralize Magic Strings
Masalah: Cookie name fibidy_auth hardcoded di 4 tempat

Solusi: Buat constants file

FIX 4.3: Phone Number Validation
File: server/src/whatsapp/dto/send-message.dto.ts

Solusi: Tambah regex validation untuk nomor telepon

üìä EXECUTION ORDER
Order	Fix	Priority	Estimated Impact	Risk Level
1	1.1 Room Authorization	CRITICAL	HIGH	LOW
2	1.2 Broadcast Leak	CRITICAL	HIGH	LOW
3	2.1 Memory Leak Cleanup	HIGH	MEDIUM	LOW
4	2.2 WS Rate Limiting	HIGH	MEDIUM	LOW
5	3.1 XSS Query/Params	MEDIUM	MEDIUM	LOW
6	3.2 JWT ConfigService	MEDIUM	LOW	LOW
7	3.3 Race Condition Lock	MEDIUM	LOW	LOW
8	4.x Code Quality	LOW	LOW	LOW
‚ö†Ô∏è TESTING CHECKLIST
Setelah setiap fix, perlu test:

 Server bisa start tanpa error
 WebSocket connections masih work
 Authentication masih work
 WhatsApp connect/disconnect flow masih work
 Chat messages masih bisa send/receive
Mau saya mulai dari Phase mana, bro?

Phase 1 - Critical Security (Room Auth + Broadcast)
Phase 2 - High Severity (Memory Leak + Rate Limit)
All Phases - Saya kerjakan semua bertahap